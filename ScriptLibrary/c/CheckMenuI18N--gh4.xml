<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="ScriptLibrary">
  <record id="name=&quot;CheckMenuI18N&quot;" recordid="CheckMenuI18N">
    <name type="string">CheckMenuI18N</name>
    <script type="string">//////////////////////////////////////////////////////////////////
// Check Menu I18N Support Start.
//////////////////////////////////////////////////////////////////
var x = 0;
function CheckMenuI18N(menu, filePath)
{  
  menuLocalizable(menu, filePath);
}


function CheckAllMenusI18N(startDate, filePath)
{
  var menu = new SCFile("menu", SCFILE_READONLY);
  var sql = "sysmodtime&gt;'" + startDate + "'";
  var ret = menu.doSelect(sql);
  while (ret == RC_SUCCESS) {    
    CheckMenuI18N(menu, filePath);
    ret = menu.getNext();
  }  
  print("Total Menu un-localized item is: " + x);  
  x = 0; 
}

function menuLocalizable(menu, filePath)
{
  var descriptions = menu.description;  
  var menuName = menu.name;
  for (var i = 0; i &lt; descriptions.length(); i++)
  {
    var scmessage = new SCFile("scmessage", SCFILE_READONLY);
    var description = descriptions[i];
    if (description != null)
    {
      var messageid = menuName + "-" + description;
      var sql = "syslanguage=\"" + "en\"" + "and class=\"" + "scmenu\"" + " and message.id=\"" + messageid + "\"";
      var ret = scmessage.doSelect(sql);
      if(ret != RC_SUCCESS)
      {
        var str = "Menu | \"" + menuName + "\" and description \"" + description + "\" has no scmessage.";
        print(str);
        writeFile(filePath, "a", str + "\n");
        x++;
      }   
    }   
  }    
}
//////////////////////////////////////////////////////////////////
//Check Menu I18N Support End.
//////////////////////////////////////////////////////////////////

//var startDate = "09/30/2013 00:00:00";
//CheckAllMenusI18N(startDate);
</script>
    <package type="string">AppsI18NTest</package>
    <sysmodtime type="dateTime">06/15/21 00:48:32</sysmodtime>
    <sysmoduser type="string">falcon</sysmoduser>
    <sysmodcount type="decimal">0</sysmodcount>
    <prgnsystem NullValue="1" type="boolean"/>
    <sysrestricted NullValue="1" type="boolean"/>
  </record>
</recordset>
