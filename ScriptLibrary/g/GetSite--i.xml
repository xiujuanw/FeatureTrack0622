<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="ScriptLibrary">
  <record id="name=&quot;GetSite&quot;" recordid="GetSite">
    <name type="string">GetSite</name>
    <script type="string">var $ = lib.c.$;
function run(context) {
	//var start = context.start || 1;
    //var search = context.searchText;
	//var pageSize = context.pageSize || 20;
	//var total;
	var result = [];
	var region = context.paramList[0];		//Input parameter is user option: [region]
	
    if (region == 'APJ')
    {
		result = [
			{'id': 'Shanghai', 'value': 'Shanghai'},
			{'id': 'Beijing', 'value': 'Beijing'},
			{'id': 'Chongqing', 'value': 'Chongqing'}
		];
	}
	else if (region == 'AMS')
    {
		result = [
			{'id': 'Site1', 'value': 'Site1'},
			{'id': 'Site2', 'value': 'Site2'}
		];
	}
	else
	{
		result = [
			{'id': 'Site3', 'value': 'Site3'},
			{'id': 'Site4', 'value': 'Site4'}
		];
	}
	
	return ({
		fields: [{name: 'id', label: 'ID'}, {name: 'value', label: 'Full Name', display: true}],
		data: result
	});
}</script>
    <package type="string">ExternalLookup</package>
    <sysmodtime type="dateTime">11/03/20 16:19:07</sysmodtime>
    <sysmoduser type="string">falcon</sysmoduser>
    <sysmodcount type="decimal">3</sysmodcount>
    <prgnsystem NullValue="1" type="boolean"/>
    <sysrestricted NullValue="1" type="boolean"/>
  </record>
</recordset>
