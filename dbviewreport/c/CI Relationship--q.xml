<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="dbviewreport">
  <record id="name=&quot;CI Relationship&quot;" recordid="CI Relationship">
    <name type="string">CI Relationship</name>
    <db.view.name type="string">V_CI_RELATIONSHIP</db.view.name>
    <dbdict.name sctype="array">
      <dbdict.name sctype="string">cirelationship</dbdict.name>
    </dbdict.name>
    <field.dbdict.name sctype="array">
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
      <field.dbdict.name sctype="string">cirelationship</field.dbdict.name>
    </field.dbdict.name>
    <field.name sctype="array">
      <field.name sctype="string">comments</field.name>
      <field.name sctype="string">company</field.name>
      <field.name sctype="string">concatenated.name</field.name>
      <field.name sctype="string">logical.name</field.name>
      <field.name sctype="string">outage.dependency</field.name>
      <field.name sctype="string">outage.threshold</field.name>
      <field.name sctype="string">port.no</field.name>
      <field.name sctype="string">related.cis</field.name>
      <field.name sctype="string">relationship.name</field.name>
      <field.name sctype="string">relationship.subtype</field.name>
      <field.name sctype="string">relationship.type</field.name>
      <field.name sctype="string">sysmodcount</field.name>
      <field.name sctype="string">sysmodtime</field.name>
      <field.name sctype="string">sysmoduser</field.name>
    </field.name>
    <field.alternative NullValue="1" sctype="array">
      <field.alternative NullValue="1" type="string"/>
    </field.alternative>
    <field.used sctype="array">
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
      <field.used sctype="boolean">true</field.used>
    </field.used>
    <field.alias.table sctype="array">
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">a1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
      <field.alias.table sctype="string">m1</field.alias.table>
    </field.alias.table>
    <use.alias.field type="boolean">true</use.alias.field>
    <relation.source.dbdict NullValue="1" sctype="array">
      <relation.source.dbdict NullValue="1" type="string"/>
    </relation.source.dbdict>
    <relation.source.field NullValue="1" sctype="array">
      <relation.source.field NullValue="1" type="string"/>
    </relation.source.field>
    <relation.target.dbdict NullValue="1" sctype="array">
      <relation.target.dbdict NullValue="1" type="string"/>
    </relation.target.dbdict>
    <relation.target.field NullValue="1" sctype="array">
      <relation.target.field NullValue="1" type="string"/>
    </relation.target.field>
    <all.fields.selected NullValue="1" type="boolean"/>
    <sql type="string">CREATE VIEW V_CI_RELATIONSHIP AS
SELECT t0.[COMMENTS],
        t0.[COMPANY],
        t0.[CONCATENATED_NAME],
        t0.[LOGICAL_NAME],
        t0.[OUTAGE_DEPENDENCY],
        t0.[OUTAGE_THRESHOLD],
        t0.[PORT_NO],
        t0a1.[RELATED_CIS],
        t0.[RELATIONSHIP_NAME],
        t0.[RELATIONSHIP_SUBTYPE],
        t0.[RELATIONSHIP_TYPE],
        t0.[SYSMODCOUNT],
        t0.[SYSMODTIME],
        t0.[SYSMODUSER] 
FROM CIRELATIONSM1 t0
    LEFT JOIN (SELECT [LOGICAL_NAME],[RELATIONSHIP_NAME],[RELATED_CIS]=STUFF((SELECT ','+CONVERT(VARCHAR(MAX), [RELATED_CIS]) FROM CIRELATIONSA1 WHERE [LOGICAL_NAME]=t0a1a.[LOGICAL_NAME] AND [RELATIONSHIP_NAME]=t0a1a.[RELATIONSHIP_NAME] FOR XML PATH('')), 1, 1, '') FROM CIRELATIONSA1 t0a1a GROUP BY [LOGICAL_NAME],[RELATIONSHIP_NAME]) t0a1 ON t0.[LOGICAL_NAME]=t0a1.[LOGICAL_NAME] AND t0.[RELATIONSHIP_NAME]=t0a1.[RELATIONSHIP_NAME]</sql>
    <field.sql.column sctype="array">
      <field.sql.column sctype="string">COMMENTS</field.sql.column>
      <field.sql.column sctype="string">COMPANY</field.sql.column>
      <field.sql.column sctype="string">CONCATENATED_NAME</field.sql.column>
      <field.sql.column sctype="string">LOGICAL_NAME</field.sql.column>
      <field.sql.column sctype="string">OUTAGE_DEPENDENCY</field.sql.column>
      <field.sql.column sctype="string">OUTAGE_THRESHOLD</field.sql.column>
      <field.sql.column sctype="string">PORT_NO</field.sql.column>
      <field.sql.column sctype="string">RELATED_CIS</field.sql.column>
      <field.sql.column sctype="string">RELATIONSHIP_NAME</field.sql.column>
      <field.sql.column sctype="string">RELATIONSHIP_SUBTYPE</field.sql.column>
      <field.sql.column sctype="string">RELATIONSHIP_TYPE</field.sql.column>
      <field.sql.column sctype="string">SYSMODCOUNT</field.sql.column>
      <field.sql.column sctype="string">SYSMODTIME</field.sql.column>
      <field.sql.column sctype="string">SYSMODUSER</field.sql.column>
    </field.sql.column>
    <criteria NullValue="1" sctype="array">
      <criteria NullValue="1" type="string"/>
    </criteria>
    <sysmoduser type="string">zhouanqing</sysmoduser>
    <sysmodcount type="decimal">4</sysmodcount>
    <sysmodtime type="dateTime">08/31/20 22:26:50</sysmodtime>
    <sql.db.type type="string">sqlserver</sql.db.type>
  </record>
</recordset>
