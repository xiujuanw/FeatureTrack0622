<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="application">
  <record id="application=&quot;sm.patchrel.compare.file&quot; and label=&quot;start.loop&quot;" recordid="sm.patchrel.compare.file - start.loop">
    <application type="string">sm.patchrel.compare.file</application>
    <label type="label">start.loop</label>
    <comments NullValue="1" type="string"/>
    <normal type="label">check.sig</normal>
    <error type="label">exit.error.msg</error>
    <format type="string">process</format>
    <file NullValue="1" type="file"/>
    <all.null NullValue="1" type="label"/>
    <key.null NullValue="1" type="label"/>
    <key.dupl NullValue="1" type="label"/>
    <second.file NullValue="1" type="file"/>
    <target.file NullValue="1" type="file"/>
    <record NullValue="1" type="file"/>
    <query NullValue="1" type="string"/>
    <name NullValue="1" type="string"/>
    <names NullValue="1" sctype="array">
      <names NullValue="1" type="string"/>
    </names>
    <values NullValue="1" sctype="array">
      <values NullValue="1" type="string"/>
    </values>
    <prompt NullValue="1" type="string"/>
    <condition NullValue="1" sctype="array">
      <condition NullValue="1" type="boolean"/>
    </condition>
    <option NullValue="1" sctype="array">
      <option NullValue="1" type="decimal"/>
    </option>
    <description NullValue="1" sctype="array">
      <description NullValue="1" type="string"/>
    </description>
    <exit NullValue="1" sctype="array">
      <exit NullValue="1" type="label"/>
    </exit>
    <index NullValue="1" type="decimal"/>
    <empty NullValue="1" type="label"/>
    <one.rec NullValue="1" type="label"/>
    <text NullValue="1" type="string"/>
    <statements sctype="array">
      <statements sctype="operator">$L.action="none";$L.obname=""</statements>
      <statements sctype="operator">$L.sigs.ver={};$L.sigs={};$L.test.sig=0</statements>
      <statements sctype="string"/>
      <statements sctype="operator">for $L.i = 1 to $L.max do ($L.temp=$L.i in $L.key;$L.obname=$L.obname+nullsub(str($L.temp in $L.file), "NULL"));$L.temp.obname=strrep($L.obname, "\"", "\\\"")</statements>
      <statements sctype="string"/>
      <statements sctype="string"/>
      <statements sctype="operator">// If the signature not found in previous versions, create an 'add' smpatches record.</statements>
      <statements sctype="operator">// If found, compare the signatures and create an 'update' smpatches record if not same.</statements>
      <statements sctype="operator">// The 'update' smpatches record should contain the signatures of both pervious versions and new patch versions</statements>
      <statements sctype="string"/>
      <statements sctype="operator">// How to do if the current signature is same as one of the previous ones? Maybe the better way is query the signatures order by signature.date, set as 'update' if same as the latest one.</statements>
      <statements sctype="string"/>
      <statements sctype="operator">$L.sql.base="object.type=\""+$L.filename+"\" and object.name=\""+$L.temp.obname+"\""</statements>
      <statements sctype="operator">// e.g. 9.40.0015, 9.40.0015Fix</statements>
      <statements sctype="operator">$L.sql=$L.sql.base+" and release.version#\""+$L.base.version+"\""</statements>
      <statements sctype="operator">// e.g. 9.4x.xxxx, ...</statements>
      <statements sctype="operator">$L.sql.new=$L.sql.base+" and release.version~#\""+$L.base.version+"\""</statements>
    </statements>
    <cond.input NullValue="1" type="boolean"/>
    <sort NullValue="1" sctype="array">
      <sort NullValue="1" type="string"/>
    </sort>
    <types NullValue="1" sctype="array">
      <types NullValue="1" type="string"/>
    </types>
    <levels NullValue="1" sctype="array">
      <levels NullValue="1" type="decimal"/>
    </levels>
    <numbers NullValue="1" sctype="array">
      <numbers NullValue="1" type="decimal"/>
    </numbers>
    <number1 NullValue="1" type="decimal"/>
    <string1 NullValue="1" type="string"/>
    <time1 NullValue="1" type="dateTime"/>
    <boolean1 NullValue="1" type="boolean"/>
    <times NullValue="1" sctype="array">
      <times NullValue="1" type="dateTime"/>
    </times>
    <expressions NullValue="1" sctype="array">
      <expressions NullValue="1" type="expression"/>
    </expressions>
    <comments.more NullValue="1" sctype="array">
      <comments.more NullValue="1" type="string"/>
    </comments.more>
    <file.variables NullValue="1" sctype="array">
      <file.variables NullValue="1" type="file"/>
    </file.variables>
    <second.record NullValue="1" type="file"/>
    <booleans NullValue="1" sctype="array">
      <booleans NullValue="1" type="boolean"/>
    </booleans>
    <table NullValue="1" type="unknown"/>
    <tables NullValue="1" sctype="array">
      <tables NullValue="1" type="unknown"/>
    </tables>
    <sysmodcount type="decimal">14</sysmodcount>
    <sysmoduser type="string">falcon</sysmoduser>
    <sysmodtime type="dateTime">06/15/21 00:37:02</sysmodtime>
  </record>
</recordset>
