<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="migrationSetting">
  <record id="name=&quot;Legacy PD known error to new PD known error&quot;" recordid="Legacy PD known error to new PD known error">
    <source.table type="string">rootcause</source.table>
    <target.table type="string">rootcause</target.table>
    <query type="string">isKnownError=true</query>
    <fields sctype="array">
      <fields sctype="structure">
        <source.field type="string">affected.ci</source.field>
        <target.field type="string">affected.ci</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">affected.ci.count</source.field>
        <target.field type="string">affected.ci.count</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">1</source.type>
        <target.type type="decimal">1</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">affected.item</source.field>
        <target.field type="string">affected.item</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">assignee.name</source.field>
        <target.field type="string">assignee.name</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">assignment</source.field>
        <target.field type="string">assignment</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">brief.description</source.field>
        <target.field type="string">brief.description</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">category</source.field>
        <target.field type="string">category</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">closure.code</source.field>
        <target.field type="string">closure.code</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">closureComments</source.field>
        <target.field type="string">closureComments</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">current.phase</source.field>
        <target.field type="string">current.phase</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">description</source.field>
        <target.field type="string">description</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">id</source.field>
        <target.field type="string">id</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">initial.impact</source.field>
        <target.field type="string">initial.impact</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">isKnownError</source.field>
        <target.field type="string">isKnownError</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">4</source.type>
        <target.type type="decimal">4</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">logical.name</source.field>
        <target.field type="string">logical.name</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">priority.code</source.field>
        <target.field type="string">priority.code</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">product.type</source.field>
        <target.field type="string">product.type</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">rcStatus</source.field>
        <target.field type="string">rcStatus</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">resolution</source.field>
        <target.field type="string">resolution</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">root.cause</source.field>
        <target.field type="string">root.cause</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">severity</source.field>
        <target.field type="string">severity</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">subcategory</source.field>
        <target.field type="string">subcategory</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">2</source.type>
        <target.type type="decimal">2</target.type>
      </fields>
      <fields sctype="structure">
        <source.field type="string">workaround</source.field>
        <target.field type="string">workaround</target.field>
        <desc NullValue="1" type="string"/>
        <source.type type="decimal">8</source.type>
        <target.type type="decimal">8</target.type>
      </fields>
    </fields>
    <name type="string">Legacy PD known error to new PD known error</name>
    <description type="string">Use this setting to migrate PD Known Error records, which includes the following procedures:
1. Change the old Known Error record to Problem record, and then create a new Known Error record with the category of "known error".
2. Link the new Known Error record to the Problem record.
3. Copy/not copy original relations to new Known Error record.</description>
    <mapping sctype="array">
      <mapping sctype="structure">
        <group type="string">category</group>
        <source.mapping type="string">true</source.mapping>
        <target.mapping type="string">known error</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">current.phase</group>
        <source.mapping type="string">current.phase~="Closure" and current.phase~="Abandonment"</source.mapping>
        <target.mapping type="string">Logging</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">current.phase</group>
        <source.mapping type="string">current.phase="Closure"</source.mapping>
        <target.mapping type="string">Closure</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">current.phase</group>
        <source.mapping type="string">current.phase="Abandonment"</source.mapping>
        <target.mapping type="string">Closure</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">id</group>
        <source.mapping type="string">true</source.mapping>
        <target.mapping type="string">$value=lib.MigrateKnownError.generateId()</target.mapping>
        <type.mapping type="string">jsCallback</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">rcStatus</group>
        <source.mapping type="string">current.phase~="Closure" and current.phase~="Abandonment" and rcStatus~="Abandoned"</source.mapping>
        <target.mapping type="string">Open</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">rcStatus</group>
        <source.mapping type="string">current.phase="Closure"</source.mapping>
        <target.mapping type="string">Closed</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">rcStatus</group>
        <source.mapping type="string">current.phase="Abandonment"</source.mapping>
        <target.mapping type="string">Closed</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
      <mapping sctype="structure">
        <group type="string">rcStatus</group>
        <source.mapping type="string">rcStatus="Abandoned"</source.mapping>
        <target.mapping type="string">Closed</target.mapping>
        <type.mapping type="string">fixedValue</type.mapping>
      </mapping>
    </mapping>
    <batch type="boolean">false</batch>
    <filter NullValue="1" type="string"/>
    <post.options type="string">&lt;form&gt;&lt;select id="relation" label="Options for Processing Relations" mandatory="false" style="radio" visible="true"&gt;keep&lt;option label="Skip Copying Relations to New Known Error Records"&gt;keep&lt;/option&gt;&lt;option label="Copy Relations to New Known Error Records"&gt;migrate&lt;/option&gt;&lt;/select&gt;&lt;/form&gt;</post.options>
    <post.script type="string">lib.MigrateKnownError.postProcess(mapping,sourceRecord,targetRecord);</post.script>
  </record>
</recordset>
