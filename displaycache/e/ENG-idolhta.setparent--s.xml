<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="displaycache">
  <record id="language=&quot;ENG&quot; and screen.id=&quot;idolhta.setparent&quot;" recordid="ENG - idolhta.setparent">
    <unl>kC0RaWRvbGh0YS5zZXRwYXJlbnQvHy8vL5AtEWlkb2xodGEuc2V0cGFyZW50
K0VOR90IJEwudGl0bGXdCSRMLmZvcm1hdEE/kICi3QkkTC5mb3JtYXQtE2lk
b2wuaHRhLnNldC5wYXJlbnSgot0IJEwudGl0bGWp7i0Qc2V0LnBhcmVudC50
aXRsZSxpZG9soKAvqROpCKl93RQkaWRvbC5zZXRwYXJlbnQuaW5pdECgQaCh
ot0HJEwudm9pZKn7LSBJRE9MSFRBU2V0UGFyZW50LmluaXRTZXRQYXJlbnRV
Sd0XJGlkb2wuc2VsZWN0ZWQuZmlsZW5hbWXdFCRpZG9sLnNlbGVjdGVkLnF1
ZXJ5oKCi3RQkaWRvbC5zZXRwYXJlbnQuaW5pdECgoKCBTy+RLQZyZWRyYXeQ
Ty8vLGxlZnQfH5EtEWlkb2xodGEuc2V0cGFyZW50T0ERLQZmYWxjb249CEHP
lzkF5ERETy9PkU+AExkMGVAZURlSGVMaA+eBgCxCYWNrLQ9SZWZyZXNoO1Jl
ZnJlc2gvLy8vLRImQ2xvc2UgQXBwbGljYXRpb26BgEFBQUFBQUGBgIAsYmFj
a4GALQZyZWRyYXeBgC0KZG8gbm90aGluZ4GALQpkbyBub3RoaW5ngYAtCmRv
IG5vdGhpbmeBgC0KZG8gbm90aGluZ4GALQVjbG9zZYGBgA+AL6LdByRMLnZv
aWSp+y0gSURPTEhUQVNldFBhcmVudC5pbml0U2V0UGFyZW50VUndFyRpZG9s
LnNlbGVjdGVkLmZpbGVuYW1l3RQkaWRvbC5zZWxlY3RlZC5xdWVyeaCggYCi
3QgkTC5pbmRleKlJEaCgot0IJEwucXVlcnmpDKkMLQhudW1iZXI9IqkX3Qgk
TC5pbmRleN0VJGh0YWNoaWxkcy5pbmNpZGVudGlkoKApIqCggYAvot0IJEwu
cXVlcnmpDKkMLQhudW1iZXI9It0hJGlkb2xodGEuc2VsZWN0ZWQucGFyZW50
LmluY2lkZW50oCkioKCBgC+i3RckaWRvbGh0YS5zZWxlY3RlZGNoaWxkc6oB
BC0NZmllbGRjb250ZW50c6CgL6LdFyRpZG9saHRhLnNlbGVjdGVkY2hpbGRz
qX3dFyRpZG9saHRhLnNlbGVjdGVkY2hpbGRzgIGgoIGAv6LdFyRpZG9saHRh
LnNlbGVjdGVkY2hpbGRzqgEELQ1maWVsZGNvbnRlbnRzoKCi3RckaWRvbGh0
YS5zZWxlY3RlZGNoaWxkc6l93RckaWRvbGh0YS5zZWxlY3RlZGNoaWxkc4CB
oKCBgYAPD5AtEHNlLnNlYXJjaC5lbmdpbmVBgCxuYW1lLQVxdWVyeYGA3Rck
aWRvbC5zZWxlY3RlZC5maWxlbmFtZd0IJEwucXVlcnmBkZAtEHNlLnNlYXJj
aC5lbmdpbmVBgCxuYW1lLQVxdWVyeYGA3RckaWRvbC5zZWxlY3RlZC5maWxl
bmFtZd0IJEwucXVlcnmBkZAtD3NlLmNhbGwucHJvY2Vzc0CALG5hbWUtCGJv
b2xlYW4xLQVuYW1lcy0GdmFsdWVzgYAtG2lkb2xodGEuc2V0cGFyZW50Lm5l
d3BhcmVudC0FZmFsc2XdCCRMLm5hbWVz3QkkTC52YWx1ZXOBkZAtD3NlLmNh
bGwucHJvY2Vzc0CALG5hbWUtCGJvb2xlYW4xLQVuYW1lcy0GdmFsdWVzgYDd
DiRMLnByb2Nlc3NuYW1lLQVmYWxzZd0IJEwubmFtZXPdCSRMLnZhbHVlc4GR
gYAPDw8PgC+i3QckTC52b2lkqfstIElET0xIVEFTZXRQYXJlbnQuaW5pdFNl
dFBhcmVudFVJ3RckaWRvbC5zZWxlY3RlZC5maWxlbmFtZd0UJGlkb2wuc2Vs
ZWN0ZWQucXVlcnmgoIGAv6kTqQgtF0NyZWF0ZU5ld1BhcmVudEluY2lkZW50
3SEkaWRvbGh0YS5zZWxlY3RlZC5wYXJlbnQuaW5jaWRlbnSgot0HJEwudm9p
ZKn7LSBJRE9MSFRBU2V0UGFyZW50LmluaXRTZXRQYXJlbnRVSd0XJGlkb2wu
c2VsZWN0ZWQuZmlsZW5hbWXdFCRpZG9sLnNlbGVjdGVkLnF1ZXJ5oKCggYGA
gEGBgEGBgEGBgEGBgEGBgEGBgEGBgStFTkcRLQZmYWxjb249CEHPr5f+DMzN
gA9AQEBAQIGADw8PDy4Cwgp2YXIgaGFzRXJyb3IgPSBmYWxzZTsKdmFyIGVy
cm9yU3RyaW5nID0gIiI7CgppZiAodmFyc1siJGlkb2xodGEuc2VsZWN0ZWQu
cGFyZW50LmluY2lkZW50Il09PW51bGwgfHwgdmFyc1siJGlkb2xodGEuc2Vs
ZWN0ZWQucGFyZW50LmluY2lkZW50Il09PSIiKQp7CiAgZXJyb3JTdHJpbmcg
PSBzeXN0ZW0uZnVuY3Rpb25zLnNjbXNnKDY5MiwiaWRvbCIpOwogIGhhc0Vy
cm9yID0gdHJ1ZTsKfQppZiAodmFyc1siJGlkb2xodGEuc2VsZWN0ZWRjaGls
ZHMiXT09bnVsbCB8fCBzeXN0ZW0uZnVuY3Rpb25zLmRlbnVsbCh2YXJzWyIk
aWRvbGh0YS5zZWxlY3RlZGNoaWxkcyJdKS5sZW5ndGgoKT09MCkKewogIGVy
cm9yU3RyaW5nID0gc3lzdGVtLmZ1bmN0aW9ucy5zY21zZyg2OTEsImlkb2wi
KTsKICBoYXNFcnJvciA9IHRydWU7Cn0KCnZhcnNbIiRMLm5hbWVzIl0gID0g
WyIkaWRvbGh0YS5zZWxlY3RlZC5maWxlbmFtZSIsICIkaWRvbGh0YS5zZWxl
Y3RlZC5xdWVyeSIsICIkaWRvbGh0YS5zZWxlY3RlZGNoaWxkcyIsICIkaWRv
bGh0YS5oYXNFcnJvciIsICIkaWRvbGh0YS5lcnJvclN0cmluZyJdOwp2YXJz
WyIkTC52YWx1ZXMiXSA9IFt2YXJzWyIkaWRvbC5zZWxlY3RlZC5maWxlbmFt
ZSJdLCB2YXJzWyIkaWRvbC5zZWxlY3RlZC5xdWVyeSJdLCB2YXJzWyIkaWRv
bGh0YS5zZWxlY3RlZGNoaWxkcyJdLCBoYXNFcnJvciwgZXJyb3JTdHJpbmdd
OwouBU8KdmFyIGhhc0Vycm9yID0gZmFsc2U7CnZhciBlcnJvclN0cmluZyA9
ICIiOwoKaWYgKHZhcnNbIiRpZG9saHRhLnNlbGVjdGVkLnBhcmVudC5pbmNp
ZGVudCJdPT1udWxsIHx8IHZhcnNbIiRpZG9saHRhLnNlbGVjdGVkLnBhcmVu
dC5pbmNpZGVudCJdPT0iIikKewogIHN5c3RlbS5mdW5jdGlvbnMubXNnKHN5
c3RlbS5mdW5jdGlvbnMuc2Ntc2coNjkyLCJpZG9sIiksMyk7CiAgaGFzRXJy
b3IgPSB0cnVlOwp9CmlmICh2YXJzWyIkaWRvbGh0YS5zZWxlY3RlZGNoaWxk
cyJdPT1udWxsIHx8IHN5c3RlbS5mdW5jdGlvbnMuZGVudWxsKHZhcnNbIiRp
ZG9saHRhLnNlbGVjdGVkY2hpbGRzIl0pLmxlbmd0aCgpPT0wKQp7CiAgc3lz
dGVtLmZ1bmN0aW9ucy5tc2coc3lzdGVtLmZ1bmN0aW9ucy5zY21zZyg2OTEs
Imlkb2wiKSwzKTsKICBoYXNFcnJvciA9IHRydWU7Cn0KCmlmIChoYXNFcnJv
cj09ZmFsc2UpCnsKICBpZiAoIkNyZWF0ZU5ld1BhcmVudEluY2lkZW50Ij09
dmFyc1siJGlkb2xodGEuc2VsZWN0ZWQucGFyZW50LmluY2lkZW50Il0pCiAg
ewogICAgdmFyc1siJEwucHJvY2Vzc25hbWUiXSA9ICJpZG9saHRhLnNldHBh
cmVudC5uZXdwYXJlbnQiOwogIH0gZWxzZSB7CiAgICBsaWIuSURPTEhUQVNl
dFBhcmVudC5wcm9jZWVkU2V0UGFyZW50NE1hc3Rlcih2YXJzWyIkaWRvbGh0
YS5zZWxlY3RlZC5wYXJlbnQuaW5jaWRlbnQiXSk7CiAgICBsaWIuSURPTEhU
QVNldFBhcmVudC5wcm9jZWVkU2V0UGFyZW50NENoaWxkcyh2YXJzWyIkaWRv
bGh0YS5zZWxlY3RlZGNoaWxkcyJdLCB2YXJzWyIkaWRvbGh0YS5zZWxlY3Rl
ZC5wYXJlbnQuaW5jaWRlbnQiXSk7CgogICAgbGliLklET0xIVEFTZXRQYXJl
bnQucmVmcmVzaFNldFBhcmVudENoaWxkVUkodmFyc1siJGlkb2wuc2VsZWN0
ZWQuZmlsZW5hbWUiXSwgdmFyc1siJGlkb2wuc2VsZWN0ZWQucXVlcnkiXSk7
CiAgICB2YXJzWyIkTC5wcm9jZXNzbmFtZSJdID0gImlkb2xodGEuc2V0cGFy
ZW50LmJsYW5rIjsKICB9Cn0gZWxzZSB7CiAgdmFyc1siJEwucHJvY2Vzc25h
bWUiXSA9ICJpZG9saHRhLnNldHBhcmVudC5ibGFuayI7Cn0KCnZhcnNbIiRM
Lm5hbWVzIl0gID0gWyIkaWRvbGh0YS5zZWxlY3RlZC5maWxlbmFtZSIsICIk
aWRvbGh0YS5zZWxlY3RlZC5xdWVyeSIsICIkaWRvbGh0YS5zZWxlY3RlZGNo
aWxkcyIsICIkaWRvbGh0YS5oYXNFcnJvciIsICIkaWRvbGh0YS5lcnJvclN0
cmluZyJdOwp2YXJzWyIkTC52YWx1ZXMiXSA9IFt2YXJzWyIkaWRvbC5zZWxl
Y3RlZC5maWxlbmFtZSJdLCB2YXJzWyIkaWRvbC5zZWxlY3RlZC5xdWVyeSJd
LCB2YXJzWyIkaWRvbGh0YS5zZWxlY3RlZGNoaWxkcyJdLCBoYXNFcnJvciwg
ZXJyb3JTdHJpbmddOwqBgIGR</unl>
    <screen.id type="string">idolhta.setparent</screen.id>
    <form NullValue="1" type="string"/>
    <txt.bank NullValue="1" type="decimal"/>
    <cursor.field.name NullValue="1" type="string"/>
    <cursor.field.contents NullValue="1" type="string"/>
    <current.scroll NullValue="1" type="string"/>
    <screen type="structure">{["idolhta.setparent", "ENG", $L.title, $L.format, true, , {[{$L.format="idol.hta.set.parent", $L.title=scmsg("set.parent.title", "idol"), , if (nullsub($idol.setparent.init, false)=true) then ($L.void=jscall("IDOLHTASetParent.initSetParentUI", $idol.selected.filename, $idol.selected.query);$idol.setparent.init=false)}, , ]}, "redraw", {[, , , "left", , ]}, "idolhta.setparent", , true, 1, "falcon", '05/19/15 17:39:47', , , ]}</screen>
    <more.flag NullValue="1" type="boolean"/>
    <ds.opt sctype="array">
      <ds.opt sctype="decimal">3</ds.opt>
      <ds.opt sctype="decimal">12</ds.opt>
      <ds.opt sctype="decimal">80</ds.opt>
      <ds.opt sctype="decimal">81</ds.opt>
      <ds.opt sctype="decimal">82</ds.opt>
      <ds.opt sctype="decimal">83</ds.opt>
      <ds.opt sctype="decimal">999</ds.opt>
    </ds.opt>
    <ds.desc sctype="array">
      <ds.desc sctype="string">Back</ds.desc>
      <ds.desc sctype="string">Refresh;Refresh</ds.desc>
      <ds.desc sctype="string"/>
      <ds.desc sctype="string"/>
      <ds.desc sctype="string"/>
      <ds.desc sctype="string"/>
      <ds.desc sctype="string">&amp;Close Application</ds.desc>
    </ds.desc>
    <ds.cond sctype="array">
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
      <ds.cond sctype="boolean">true</ds.cond>
    </ds.cond>
    <ds.actions sctype="array">
      <ds.actions sctype="array">
        <ds.actions sctype="string">back</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">redraw</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">do nothing</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">do nothing</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">do nothing</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">do nothing</ds.actions>
      </ds.actions>
      <ds.actions sctype="array">
        <ds.actions sctype="string">close</ds.actions>
      </ds.actions>
    </ds.actions>
    <ds.exps sctype="array">
      <ds.exps sctype="unknown"/>
      <ds.exps sctype="array">
        <ds.exps sctype="string"/>
        <ds.exps sctype="operator">$L.void=jscall("IDOLHTASetParent.initSetParentUI", $idol.selected.filename, $idol.selected.query)</ds.exps>
      </ds.exps>
      <ds.exps sctype="array">
        <ds.exps sctype="operator">$L.index=cursor.line(1)</ds.exps>
        <ds.exps sctype="operator">$L.query="number=\""+$L.index in $htachilds.incidentid+"\""</ds.exps>
      </ds.exps>
      <ds.exps sctype="array">
        <ds.exps sctype="string"/>
        <ds.exps sctype="operator">$L.query="number=\""+$idolhta.selected.parent.incident+"\""</ds.exps>
      </ds.exps>
      <ds.exps sctype="array">
        <ds.exps sctype="string"/>
        <ds.exps sctype="operator">$idolhta.selectedchilds=multiselect.selection("fieldcontents")</ds.exps>
        <ds.exps sctype="string"/>
        <ds.exps sctype="operator">$idolhta.selectedchilds=nullsub($idolhta.selectedchilds, {})</ds.exps>
      </ds.exps>
      <ds.exps sctype="array">
        <ds.exps sctype="expression"/>
        <ds.exps sctype="operator">$idolhta.selectedchilds=multiselect.selection("fieldcontents")</ds.exps>
        <ds.exps sctype="operator">$idolhta.selectedchilds=nullsub($idolhta.selectedchilds, {})</ds.exps>
      </ds.exps>
    </ds.exps>
    <ds.rads sctype="array">
      <ds.rads sctype="unknown"/>
      <ds.rads sctype="unknown"/>
      <ds.rads sctype="structure">
        <application type="string">se.search.engine</application>
        <thread type="boolean">true</thread>
        <parms sctype="array">
          <parms sctype="string">name</parms>
          <parms sctype="string">query</parms>
        </parms>
        <values sctype="array">
          <values sctype="globalVar">$idol.selected.filename</values>
          <values sctype="globalVar">$L.query</values>
        </values>
      </ds.rads>
      <ds.rads sctype="structure">
        <application type="string">se.search.engine</application>
        <thread type="boolean">true</thread>
        <parms sctype="array">
          <parms sctype="string">name</parms>
          <parms sctype="string">query</parms>
        </parms>
        <values sctype="array">
          <values sctype="globalVar">$idol.selected.filename</values>
          <values sctype="globalVar">$L.query</values>
        </values>
      </ds.rads>
      <ds.rads sctype="structure">
        <application type="string">se.call.process</application>
        <thread type="boolean">false</thread>
        <parms sctype="array">
          <parms sctype="string">name</parms>
          <parms sctype="string">boolean1</parms>
          <parms sctype="string">names</parms>
          <parms sctype="string">values</parms>
        </parms>
        <values sctype="array">
          <values sctype="string">idolhta.setparent.newparent</values>
          <values sctype="string">false</values>
          <values sctype="globalVar">$L.names</values>
          <values sctype="globalVar">$L.values</values>
        </values>
      </ds.rads>
      <ds.rads sctype="structure">
        <application type="string">se.call.process</application>
        <thread type="boolean">false</thread>
        <parms sctype="array">
          <parms sctype="string">name</parms>
          <parms sctype="string">boolean1</parms>
          <parms sctype="string">names</parms>
          <parms sctype="string">values</parms>
        </parms>
        <values sctype="array">
          <values sctype="globalVar">$L.processname</values>
          <values sctype="string">false</values>
          <values sctype="globalVar">$L.names</values>
          <values sctype="globalVar">$L.values</values>
        </values>
      </ds.rads>
    </ds.rads>
    <ds.exps.1 sctype="array">
      <ds.exps.1 sctype="unknown"/>
      <ds.exps.1 sctype="unknown"/>
      <ds.exps.1 sctype="unknown"/>
      <ds.exps.1 sctype="unknown"/>
      <ds.exps.1 sctype="array">
        <ds.exps.1 sctype="string"/>
        <ds.exps.1 sctype="operator">$L.void=jscall("IDOLHTASetParent.initSetParentUI", $idol.selected.filename, $idol.selected.query)</ds.exps.1>
      </ds.exps.1>
      <ds.exps.1 sctype="array">
        <ds.exps.1 sctype="expression"/>
        <ds.exps.1 sctype="operator">if ("CreateNewParentIncident"=$idolhta.selected.parent.incident) then ($L.void=jscall("IDOLHTASetParent.initSetParentUI", $idol.selected.filename, $idol.selected.query))</ds.exps.1>
      </ds.exps.1>
    </ds.exps.1>
    <ds.a.options sctype="array">
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
      <ds.a.options sctype="array">
        <ds.a.options sctype="boolean">true</ds.a.options>
      </ds.a.options>
    </ds.a.options>
    <language type="string">ENG</language>
    <sysmodcount type="decimal">1</sysmodcount>
    <sysmoduser type="string">falcon</sysmoduser>
    <sysmodtime type="dateTime">06/15/21 00:52:06</sysmodtime>
    <ds.mod sctype="array">
      <ds.mod sctype="unknown"/>
      <ds.mod sctype="boolean">false</ds.mod>
      <ds.mod sctype="boolean">false</ds.mod>
      <ds.mod sctype="boolean">false</ds.mod>
      <ds.mod sctype="boolean">false</ds.mod>
      <ds.mod sctype="boolean">false</ds.mod>
    </ds.mod>
    <ds.javascript.pre sctype="array">
      <ds.javascript.pre sctype="unknown"/>
      <ds.javascript.pre sctype="unknown"/>
      <ds.javascript.pre sctype="unknown"/>
      <ds.javascript.pre sctype="unknown"/>
      <ds.javascript.pre sctype="string">
var hasError = false;
var errorString = "";

if (vars["$idolhta.selected.parent.incident"]==null || vars["$idolhta.selected.parent.incident"]=="")
{
  errorString = system.functions.scmsg(692,"idol");
  hasError = true;
}
if (vars["$idolhta.selectedchilds"]==null || system.functions.denull(vars["$idolhta.selectedchilds"]).length()==0)
{
  errorString = system.functions.scmsg(691,"idol");
  hasError = true;
}

vars["$L.names"]  = ["$idolhta.selected.filename", "$idolhta.selected.query", "$idolhta.selectedchilds", "$idolhta.hasError", "$idolhta.errorString"];
vars["$L.values"] = [vars["$idol.selected.filename"], vars["$idol.selected.query"], vars["$idolhta.selectedchilds"], hasError, errorString];
</ds.javascript.pre>
      <ds.javascript.pre sctype="string">
var hasError = false;
var errorString = "";

if (vars["$idolhta.selected.parent.incident"]==null || vars["$idolhta.selected.parent.incident"]=="")
{
  system.functions.msg(system.functions.scmsg(692,"idol"),3);
  hasError = true;
}
if (vars["$idolhta.selectedchilds"]==null || system.functions.denull(vars["$idolhta.selectedchilds"]).length()==0)
{
  system.functions.msg(system.functions.scmsg(691,"idol"),3);
  hasError = true;
}

if (hasError==false)
{
  if ("CreateNewParentIncident"==vars["$idolhta.selected.parent.incident"])
  {
    vars["$L.processname"] = "idolhta.setparent.newparent";
  } else {
    lib.IDOLHTASetParent.proceedSetParent4Master(vars["$idolhta.selected.parent.incident"]);
    lib.IDOLHTASetParent.proceedSetParent4Childs(vars["$idolhta.selectedchilds"], vars["$idolhta.selected.parent.incident"]);

    lib.IDOLHTASetParent.refreshSetParentChildUI(vars["$idol.selected.filename"], vars["$idol.selected.query"]);
    vars["$L.processname"] = "idolhta.setparent.blank";
  }
} else {
  vars["$L.processname"] = "idolhta.setparent.blank";
}

vars["$L.names"]  = ["$idolhta.selected.filename", "$idolhta.selected.query", "$idolhta.selectedchilds", "$idolhta.hasError", "$idolhta.errorString"];
vars["$L.values"] = [vars["$idol.selected.filename"], vars["$idol.selected.query"], vars["$idolhta.selectedchilds"], hasError, errorString];
</ds.javascript.pre>
    </ds.javascript.pre>
    <ds.javascript.post NullValue="1" sctype="array">
      <ds.javascript.post NullValue="1" type="string"/>
    </ds.javascript.post>
  </record>
</recordset>
