<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<recordset table="enclapplrev">
  <record id="application.name=&quot;scheduler.process&quot;" recordid="scheduler.process">
    <application.name type="string">scheduler.process</application.name>
    <rev.array sctype="array">
      <rev.array sctype="structure">
        <rev.name type="string">qiqingsong</rev.name>
        <rev.date type="dateTime">12/30/15 18:46:25</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Set schedule user to user in schedule instead of linker.</rev.desc>
        </rev.desc>
        <change.no type="decimal">130451</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">zhangqi</rev.name>
        <rev.date type="dateTime">04/22/14 20:34:27</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">delete lock &amp; unlock panel, don't lock scheduler record to improve performance</rev.desc>
        </rev.desc>
        <change.no type="decimal">99009</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">zhangqi</rev.name>
        <rev.date type="dateTime">10/16/12 09:10:00</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">add panel "unlock.resource.lock", set Lock Denied exit of panel "lock" to the new panel.</rev.desc>
        </rev.desc>
        <change.no type="decimal">84266</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">miquan</rev.name>
        <rev.date type="dateTime">12/06/11 23:34:50</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">recheckin</rev.desc>
        </rev.desc>
        <change.no type="decimal">70479</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">miquan</rev.name>
        <rev.date type="dateTime">12/06/11 22:26:16</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Panel: setup.tz</rev.desc>
          <rev.desc sctype="string">Add 2 lines:</rev.desc>
          <rev.desc sctype="string">$lo.time.zone=nullsub($lo.time.zone, $L.time.zone)</rev.desc>
          <rev.desc sctype="string">$lo.time.zone=nullsub($lo.time.zone, "Greenwich/Universal")</rev.desc>
        </rev.desc>
        <change.no type="decimal">70479</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">zhangqi</rev.name>
        <rev.date type="dateTime">11/14/10 19:35:05</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">update panel check.delete.1, change the condition</rev.desc>
          <rev.desc sctype="string">from: (sched.class in $SCHEDULE)="problem"</rev.desc>
          <rev.desc sctype="string">to: (sched.class in $SCHEDULE)#"problem"</rev.desc>
        </rev.desc>
        <change.no type="decimal">58787</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">ffaegh</rev.name>
        <rev.date type="dateTime">06/29/09 10:48:05</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Req Id 29528 UCMDB Multi-tenancy: Handle schedule record errors</rev.desc>
          <rev.desc sctype="string">Changed 'process.javascript' panel to call "call.error" panel instead of "exit.error.msg" so that it logs an error to the status field of the schedule record.</rev.desc>
        </rev.desc>
        <change.no type="decimal">29528</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">hzhang</rev.name>
        <rev.date type="dateTime">01/18/09 15:45:26</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">on panel reschedule.month, change the following line to</rev.desc>
          <rev.desc sctype="string"/>
          <rev.desc sctype="string">if ($L.expire.month&gt;12) then ($L.expire.month-=12;$L.expire.year+=1)</rev.desc>
        </rev.desc>
        <change.no type="decimal">40193</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">11/12/06 08:25:38</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Panel start</rev.desc>
          <rev.desc sctype="string">Added nullsub() to the lock name:</rev.desc>
          <rev.desc sctype="string">$L.lock.name="SCHEDULE"+nullsub(schedule.id in $SCHEDULE, "NULLSCHEDID")</rev.desc>
        </rev.desc>
        <change.no type="decimal">20872</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pbudic</rev.name>
        <rev.date type="dateTime">01/28/06 13:00:19</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Fixed logic on reschedule.month panel</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pbudic</rev.name>
        <rev.date type="dateTime">01/28/06 10:09:20</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Fixed typos on reschedule.month panel.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">prietke</rev.name>
        <rev.date type="dateTime">09/05/05 17:35:31</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">On the setup.user panel, corrected the expression added for the previous SCR (34922); $L.open.qry changed to $L.oper.qry</rev.desc>
        </rev.desc>
        <change.no type="decimal">37197</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">cfullert</rev.name>
        <rev.date type="dateTime">02/15/05 09:22:01</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">panel:  setup.user</rev.desc>
          <rev.desc sctype="string">added the following expression:</rev.desc>
          <rev.desc sctype="string">$L.oper.qry=strrep($L.open.qry, "\\", "\\\\")</rev.desc>
          <rev.desc sctype="string">This will replace any single '\' with a double '\\' which will not make the query fail.</rev.desc>
        </rev.desc>
        <change.no type="decimal">34922</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">joeh</rev.name>
        <rev.date type="dateTime">09/15/04 20:35:00</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Previous change for scr24057 task30387</rev.desc>
        </rev.desc>
        <change.no type="decimal">24057</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">joeh</rev.name>
        <rev.date type="dateTime">09/15/04 20:34:45</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">scheduler.process RAD Applicaion</rev.desc>
          <rev.desc sctype="string"/>
          <rev.desc sctype="string">check.delete.1 panel:</rev.desc>
          <rev.desc sctype="string">changed the update.reschedule exit condition</rev.desc>
          <rev.desc sctype="string">To:</rev.desc>
          <rev.desc sctype="string">not null(class in $SCHEDULE) and application in $SCHEDULE~="apm.alert"</rev.desc>
          <rev.desc sctype="string">From:</rev.desc>
          <rev.desc sctype="string">not null(class in $SCHEDULE)</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">prietke</rev.name>
        <rev.date type="dateTime">08/04/04 23:36:10</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">the update.error.msg panel is now a msg panel instead of a message panel (prevents the creation of additional schedule recs); switched label for this panel from update.error.msg to update.error.msg.1; added more information to the message string; created a new process panel which precedes this panel which sets $exit to "error"</rev.desc>
        </rev.desc>
        <change.no type="decimal">26015</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">cfullert</rev.name>
        <rev.date type="dateTime">10/27/03 15:38:45</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">corrected typo on the check.app.exists panel. 'application' was spelled incorrectly which caused the application in the schedule record to not be called.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">cfullert</rev.name>
        <rev.date type="dateTime">09/30/03 20:07:01</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">added decision panel to make sure that there was a RAD application defined in the schedule record before trying to call it.</rev.desc>
        </rev.desc>
        <change.no type="decimal">27968</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">cfullert</rev.name>
        <rev.date type="dateTime">09/30/03 16:59:02</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Added a panel, 'process.javascript', and changed the exit on the call.rad panel to this so that any javascript will be called after the rad application is called.</rev.desc>
        </rev.desc>
        <change.no type="decimal">27968</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">lisa</rev.name>
        <rev.date type="dateTime">04/07/02 19:20:51</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Modified the reschedule panel so that the expiration is the sum of two date/time values instead of the sum of two numbers.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pbudic</rev.name>
        <rev.date type="dateTime">01/08/02 14:59:25</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Modified to use normal exit if the resource cannot be unlocked.</rev.desc>
        </rev.desc>
        <change.no type="decimal">15840</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">kasey</rev.name>
        <rev.date type="dateTime">07/04/00 23:07:11</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Swapped the statements for setting the interval based upon a repeated time or a repeated flag.  Statements for repeated time come first so that the interval determined by a repeated flag will override the interval determined by a repeated time.  Changes made on panel setup.repeat</rev.desc>
        </rev.desc>
        <change.no type="decimal">2851</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">kasey</rev.name>
        <rev.date type="dateTime">04/04/00 23:35:59</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Added "if not $L.month.flg then" to the statement on panel setup.reschedule where the expiration is setup. This was previously already set for monthly repeat.</rev.desc>
        </rev.desc>
        <change.no type="decimal">1657</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">06/06/99 21:58:25</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Set $error="error" if an error is encountered.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">02/22/99 08:38:59</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Don't delete schedule record if class=problem and application=apm.alert.  It has already been deleted.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">01/06/99 09:22:12</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">scmsg</rev.desc>
        </rev.desc>
        <change.no type="decimal">856</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">11/02/98 09:24:33</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">New parameter in system.setparms to prevent looping when the timezone doesn't exist.</rev.desc>
        </rev.desc>
        <change.no type="decimal">326</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pbudic</rev.name>
        <rev.date type="dateTime">10/11/98 18:27:28</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">When looping conditions do occur shut the scheduler down instead of looping.</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pbudic</rev.name>
        <rev.date type="dateTime">10/11/98 18:05:17</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Added code that should stop any looping due to null schedule.id's</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">sanderson</rev.name>
        <rev.date type="dateTime">09/21/98 16:32:03</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">when setting the username use nullsub(class,sched.class).</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pcasey</rev.name>
        <rev.date type="dateTime">05/17/98 17:42:50</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Operator now defaults to patch name</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">pcasey</rev.name>
        <rev.date type="dateTime">02/15/98 16:39:01</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">No two schedulers should ever process the SAME schedule record now</rev.desc>
        </rev.desc>
        <change.no NullValue="1" type="decimal"/>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">falcon</rev.name>
        <rev.date type="dateTime">11/09/97 14:27:37</rev.date>
        <rev.desc sctype="array">
          <rev.desc sctype="string">Force init of operator if $G.username.prev is null</rev.desc>
        </rev.desc>
        <change.no type="decimal">10399</change.no>
      </rev.array>
      <rev.array sctype="structure">
        <rev.name type="string">rmari</rev.name>
        <rev.date type="dateTime">04/16/97 15:40:14</rev.date>
        <rev.desc sctype="array"/>
        <change.no type="decimal">8234</change.no>
      </rev.array>
    </rev.array>
    <descript sctype="array">
      <descript sctype="string">Set schedule user to user in schedule instead of linker.</descript>
      <descript sctype="string">delete lock &amp; unlock panel, don't lock scheduler record to improve performance</descript>
      <descript sctype="string">add panel "unlock.resource.lock", set Lock Denied exit of panel "lock" to the new panel.</descript>
      <descript sctype="string">recheckin</descript>
      <descript sctype="string">Panel: setup.tz</descript>
      <descript sctype="string">Add 2 lines:</descript>
      <descript sctype="string">$lo.time.zone=nullsub($lo.time.zone, $L.time.zone)</descript>
      <descript sctype="string">$lo.time.zone=nullsub($lo.time.zone, "Greenwich/Universal")</descript>
      <descript sctype="string">update panel check.delete.1, change the condition</descript>
      <descript sctype="string">from: (sched.class in $SCHEDULE)="problem"</descript>
      <descript sctype="string">to: (sched.class in $SCHEDULE)#"problem"</descript>
      <descript sctype="string">Req Id 29528 UCMDB Multi-tenancy: Handle schedule record errors</descript>
      <descript sctype="string">Changed 'process.javascript' panel to call "call.error" panel instead of "exit.error.msg" so that it logs an error to the status field of the schedule record.</descript>
      <descript sctype="string">on panel reschedule.month, change the following line to</descript>
      <descript sctype="string"/>
      <descript sctype="string">if ($L.expire.month&gt;12) then ($L.expire.month-=12;$L.expire.year+=1)</descript>
      <descript sctype="string">Panel start</descript>
      <descript sctype="string">Added nullsub() to the lock name:</descript>
      <descript sctype="string">$L.lock.name="SCHEDULE"+nullsub(schedule.id in $SCHEDULE, "NULLSCHEDID")</descript>
      <descript sctype="string">Fixed logic on reschedule.month panel</descript>
      <descript sctype="string">Fixed typos on reschedule.month panel.</descript>
      <descript sctype="string">On the setup.user panel, corrected the expression added for the previous SCR (34922); $L.open.qry changed to $L.oper.qry</descript>
      <descript sctype="string">panel:  setup.user</descript>
      <descript sctype="string">added the following expression:</descript>
      <descript sctype="string">$L.oper.qry=strrep($L.open.qry, "\\", "\\\\")</descript>
      <descript sctype="string">This will replace any single '\' with a double '\\' which will not make the query fail.</descript>
      <descript sctype="string">Previous change for scr24057 task30387</descript>
      <descript sctype="string">scheduler.process RAD Applicaion</descript>
      <descript sctype="string"/>
      <descript sctype="string">check.delete.1 panel:</descript>
      <descript sctype="string">changed the update.reschedule exit condition</descript>
      <descript sctype="string">To:</descript>
      <descript sctype="string">not null(class in $SCHEDULE) and application in $SCHEDULE~="apm.alert"</descript>
      <descript sctype="string">From:</descript>
      <descript sctype="string">not null(class in $SCHEDULE)</descript>
      <descript sctype="string">the update.error.msg panel is now a msg panel instead of a message panel (prevents the creation of additional schedule recs); switched label for this panel from update.error.msg to update.error.msg.1; added more information to the message string; created a new process panel which precedes this panel which sets $exit to "error"</descript>
      <descript sctype="string">corrected typo on the check.app.exists panel. 'application' was spelled incorrectly which caused the application in the schedule record to not be called.</descript>
      <descript sctype="string">added decision panel to make sure that there was a RAD application defined in the schedule record before trying to call it.</descript>
      <descript sctype="string">Added a panel, 'process.javascript', and changed the exit on the call.rad panel to this so that any javascript will be called after the rad application is called.</descript>
      <descript sctype="string">Modified the reschedule panel so that the expiration is the sum of two date/time values instead of the sum of two numbers.</descript>
      <descript sctype="string">Modified to use normal exit if the resource cannot be unlocked.</descript>
      <descript sctype="string">Swapped the statements for setting the interval based upon a repeated time or a repeated flag.  Statements for repeated time come first so that the interval determined by a repeated flag will override the interval determined by a repeated time.  Changes made on panel setup.repeat</descript>
      <descript sctype="string">Added "if not $L.month.flg then" to the statement on panel setup.reschedule where the expiration is setup. This was previously already set for monthly repeat.</descript>
      <descript sctype="string">Set $error="error" if an error is encountered.</descript>
      <descript sctype="string">Don't delete schedule record if class=problem and application=apm.alert.  It has already been deleted.</descript>
      <descript sctype="string">scmsg</descript>
      <descript sctype="string">New parameter in system.setparms to prevent looping when the timezone doesn't exist.</descript>
      <descript sctype="string">When looping conditions do occur shut the scheduler down instead of looping.</descript>
      <descript sctype="string">Added code that should stop any looping due to null schedule.id's</descript>
      <descript sctype="string">when setting the username use nullsub(class,sched.class).</descript>
      <descript sctype="string">Operator now defaults to patch name</descript>
      <descript sctype="string">No two schedulers should ever process the SAME schedule record now</descript>
      <descript sctype="string">Force init of operator if $G.username.prev is null</descript>
    </descript>
    <release type="string">A9602</release>
    <sysmodcount type="decimal">36</sysmodcount>
    <sysmoduser type="string">qiqingsong</sysmoduser>
    <sysmodtime type="dateTime">12/30/15 18:47:11</sysmodtime>
  </record>
</recordset>
